<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday, Tamara!</title>

    <style>
        body {
            margin: 0;
            font-family: 'Times New Roman', Times, serif;
            background: black;
            color: white;
            overflow: hidden;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }

        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: justify;
            padding: 10px;
        }

        .button-container {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .button-container img {
            width: 100px;
            height: 100px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .button-container img:hover {
            transform: scale(1.1);
        }

        .page {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            text-align: justify;
            padding: 20px;
        }

        .page.active {
            display: flex;
        }

        .coupon {
            background: white;
            color: black;
            border: 2px dashed gray;
            padding: 10px;
            margin: 10px;
            width: 80%;
            max-width: 300px;
            text-align: center;
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            border: none;
            background: #94d9ff;
            color: white;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
        }

        button:hover {
            background: darkslateblue;
        }

        .candles-container {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .candle {
            width: 30px;
            height: 80px;
            background: #dccd9b;
            position: relative;
            border-radius: 5px;
            cursor: pointer;
        }

        .flame {
            width: 10px;
            height: 15px;
            background-color: yellow;
            border-radius: 50%;
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            transition: opacity 0.3s ease;
        }

        .flame.blown-out {
            opacity: 0;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
                text-align: center;
            }

            .button-container img {
                width: 80px;
                height: 80px;
            }

            button {
                font-size: 14px;
                padding: 8px 16px;
            }
        }
    </style>
</head>

<body>

    <!-- Background Music (autoplay, no controls) -->
    <audio id="bg-music" autoplay loop>
        <source src="yungkai.mp3" type="audio/mp3">
    </audio>

    <canvas id="background"></canvas>

    <div class="container">
        <h1>Happy Birthday,&nbsp;Tamara!</h1>

        <div class="button-container">
            <img src="heart1.png" alt="Heart 1" onclick="showPage(1)">
            <img src="heart2.png" alt="Heart 2" onclick="showPage(2)">
            <img src="heart3.png" alt="Heart 3" onclick="showPage(3)">
        </div>
    </div>

    <!-- Page 1 -->
    <div id="page-1" class="page">
        <h2>To the Most Amazing Person ü©∑</h2>
        <p>
            Dear Tammie,<br><br>
            Happy Birthday to one of the most special people in my life!<br><br>
            You are kind, warm, loving, and someone who brings light wherever you go.
            I‚Äôm so grateful for you, for your heart, your strength, and your presence.
            You mean more to me than words can ever fully explain.<br><br>
            Anyone who has you in their life is incredibly lucky üêº<br><br>
            I wish you all the happiness in the world today and always.<br><br>
            With all my love,<br>
            ‚Äî Rehan (your fav bestie)
        </p>
        <button onclick="goBack()">Back</button>
    </div>

    <!-- Page 2 -->
    <div id="page-2" class="page">
        <h2>Birthday Coupons üéÅ</h2>
        <div class="coupon">Coffee or Boba Date on Me ‚òïüßã</div>
        <div class="coupon">Unlimited Hugs for a Week ü§ç</div>
        <div class="coupon">Movie Night üé¨</div>
        <div class="coupon">Game Night üéÆ</div>
        <div class="coupon">Your Wish ‚ú®</div>
        <button onclick="goBack()">Back</button>
    </div>

    <!-- Page 3 -->
    <div id="page-3" class="page">
        <h2>Blow Out the Candles üéÇ</h2>

        <div class="candles-container">
            <div class="candle" onclick="blowOutCandle(0)">
                <div class="flame" id="flame-0"></div>
            </div>
            <div class="candle" onclick="blowOutCandle(1)">
                <div class="flame" id="flame-1"></div>
            </div>
            <div class="candle" onclick="blowOutCandle(2)">
                <div class="flame" id="flame-2"></div>
            </div>
        </div>

        <p id="birthdayMessage" style="display:none; margin-top:20px;">
            All candles are blown out üéâ Make a wish!
        </p>

        <button onclick="goBack()">Back</button>
    </div>

    <script>
        /* Force music to play on first interaction (browser-safe) */
        const music = document.getElementById("bg-music");
        document.addEventListener("click", () => {
            if (music.paused) {
                music.play();
            }
        }, { once: true });

        function showPage(num) {
            document.querySelector(".container").style.display = "none";
            document.getElementById(`page-${num}`).classList.add("active");
        }

        function goBack() {
            document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
            document.querySelector(".container").style.display = "flex";
            resetCandles();
        }

        function blowOutCandle(i) {
            document.getElementById(`flame-${i}`).classList.add("blown-out");
            if (document.querySelectorAll(".flame.blown-out").length === 3) {
                document.getElementById("birthdayMessage").style.display = "block";
            }
        }

        function resetCandles() {
            document.querySelectorAll(".flame").forEach(f => f.classList.remove("blown-out"));
            document.getElementById("birthdayMessage").style.display = "none";
        }

        /* Star background */
        const canvas = document.getElementById("background");
        const ctx = canvas.getContext("2d");

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener("resize", resizeCanvas);
        resizeCanvas();

        const stars = Array.from({ length: 200 }, () => ({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            size: Math.random() * 2,
            speed: Math.random() * 0.5 + 0.1
        }));

        function drawStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "white";
            stars.forEach(s => {
                ctx.beginPath();
                ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
                ctx.fill();
                s.y += s.speed;
                if (s.y > canvas.height) {
                    s.y = 0;
                    s.x = Math.random() * canvas.width;
                }
            });
            requestAnimationFrame(drawStars);
        }
        drawStars();
    </script>

</body>
</html>
